<div class="row justify-content-center mt-3">
  <div class="col-12 col-md-8 col-lg-6">
    <div class="product-show-card shadow-sm">
      <%# start header links %>
      <div class="product-show-links d-flex justify-content-between p-1">
        <div class="bd-highlight">
          <%= link_to root_path do %>
            <i class='fa fa-long-arrow-left' style='color: white'></i>
          <% end %>
        </div>
        <div>
          <i class='fa fa-share-alt' style='color: white' class="p-2 bd-highlight"></i>
          <%# Display Bookmark button for buyers %>
          <% if current_user && @product.user != current_user %>
            <span class="ms-2">
              <% if current_user.bookmarks.find_by(product: @product) %>
                <% bookmark = current_user.bookmarks.find_by(product: @product) %>
                <%= link_to bookmark_path(bookmark), method: :delete do %>
                  <i class="fa-solid fa-heart"></i>
                <% end %>
              <% else %>
                <%= link_to product_bookmarks_path(@product), method: :post do %>
                  <i class="fa-regular fa-heart"></i>
                <% end %>
              <% end %>
            </span>
          <% end %>
        </div>
      </div>
      <%# end header links %>

      <%# start block infos product %>
      <section class="row mt-3">
        <div class="col-12">
          <h2 class="text-uppercase"><%= @product.name %></h2>
        </div>
        <div class="col-6">
          <div class="text-muted my-1"><%= @product.brand %></div>
          <div class="text-dark my-1"><%= @product.category.name.capitalize %> - <%= @product.sub_category.name.capitalize %></div>
          <div class="text-dark small my-1"><%= @product.characteristics %></div>
        </div>
        <div class="col-6 product-complementary-infos">
          <div>
            <i class="fa-solid fa-tag text-"></i>
            <%= @product.price %>â‚¬
          </div>
          <div>
            <%= @product.quantity_left %>%
            <div id="gaugeArea"></div>

          </div>
          <div>
            <%= @product.condition %>
          </div>
          <div>
            <%= @product.buying_date %>

          </div>
          <div>
            <i class='fa fa-calendar'></i>
            <%= @product.expiration_date %>
          </div>
        </div>
      </section>
      <%# end block infos product %>

      <%# start block description product %>
      <section class="row my-5">
        <div class="col-8">
          <%= @product.description %>
        </div>
        <div class="col-4">
          <% if @product.photo.attached? %>
            <%= cl_image_tag(@product.photo.key, alt: @product.name) %>
          <% else %>
            <% picture_name = @product.category.name + ".jpg" %>
            <%= image_tag(picture_name, class: "img-fluid")%>
          <% end %>
        </div>
      </section>
      <%# end block description product %>


      <%# start buttons action %>
      <section class="d-flex justify-content-around">
        <%= link_to 'Contact', user_path(@product.user_id), class: "btn-green-secondary" %>
        <%= link_to 'Order', product_orders_path(@product), method: :post, class: "btn-green-primary" %>
      </section>
      <%# end buttons action %>


    <%# start map %>

    <%# end map %>

    </div>
  </div>
</div>
